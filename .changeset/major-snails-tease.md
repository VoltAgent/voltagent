---
"@voltagent/core": patch
---

feat: add input and output to OperationContext for improved observability

## What Changed

Added `input` and `output` fields to `OperationContext`, making them accessible throughout the agent's execution lifecycle.

## New Fields in OperationContext

```typescript
export type OperationContext = {
  // ... existing fields

  /** Input provided to the agent operation (string, UIMessages, or BaseMessages) */
  input?: string | UIMessage[] | BaseMessage[];

  /** Output generated by the agent operation (text or object) */
  output?: string | object;
};
```

## Usage in Tools and Hooks

```typescript
// Access input and output in tools
const myTool = createTool({
  name: "exampleTool",
  parameters: z.object({}),
  async execute(args, context) {
    // Access the original input
    console.log("Original input:", context.input);

    return { status: "ok" };
  },
});

// Access in hooks
const agent = new Agent({
  hooks: {
    onEnd: async ({ context }) => {
      // Both input and output are available
      console.log("Input:", context.input);
      console.log("Output:", context.output);
    },
  },
});
```

## Why This Matters

- **Better Debugging**: Tools and hooks can now see both the original input and final output
- **Enhanced Observability**: Full context available for logging and monitoring
- **Consistent with Tracing**: Aligns with how AgentTraceContext already handles input/output for OpenTelemetry
- **No Breaking Changes**: Existing code continues to work; these are new optional fields
