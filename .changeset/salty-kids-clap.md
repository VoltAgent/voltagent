---
"@voltagent/langfuse-exporter": patch
"@voltagent/core": patch
---

feat: Add Langfuse Observability Exporter

This introduces a new package `@voltagent/langfuse-exporter` that allows you to export OpenTelemetry traces generated by `@voltagent/core` directly to Langfuse (https://langfuse.com/) for detailed observability into your agent's operations.

**How to Use:**

## Installation

Install the necessary packages:

```bash
npm install @voltagent/core @voltagent/langfuse-exporter
# or
yarn add @voltagent/core @voltagent/langfuse-exporter
```

## Configuration

Configure the `LangfuseExporter` and pass it to `VoltAgent`:

```typescript
import { Agent, VoltAgent } from "@voltagent/core";
import { LangfuseExporter } from "@voltagent/langfuse-exporter";
// import { YourLLMProvider } from "./your-llm-provider"; // Replace with your provider
// import { yourModel } from "./your-model"; // Replace with your model
// import { yourTools } from "./your-tools"; // Replace with your tools

// Ensure LANGFUSE_SECRET_KEY and LANGFUSE_PUBLIC_KEY are set in your environment

// Define your agent(s)
const agent = new Agent({
  name: "MyLangfuseAgent",
  // description: "...",
  // llm: new YourLLMProvider(),
  // model: yourModel,
  // tools: yourTools,
});

// Configure the Langfuse Exporter
const langfuseExporter = new LangfuseExporter({
  publicKey: process.env.LANGFUSE_PUBLIC_KEY,
  secretKey: process.env.LANGFUSE_SECRET_KEY,
  baseUrl: process.env.LANGFUSE_BASE_URL, // Optional: Defaults to Langfuse Cloud
  // debug: true // Optional: Enable exporter logging
});

// Initialize VoltAgent with the exporter
// This automatically sets up OpenTelemetry tracing
new VoltAgent({
  agents: {
    agent, // Register your agent(s)
  },
  telemetryExporter: langfuseExporter, // Pass the exporter instance
});

console.log("VoltAgent initialized with Langfuse exporter.");

// Now, any operations performed by 'agent' (e.g., agent.generateText(...))
// will automatically generate traces and send them to Langfuse.
```

By providing the `telemetryExporter` to `VoltAgent`, OpenTelemetry is automatically configured, and detailed traces including LLM interactions, tool usage, and agent metadata will appear in your Langfuse project.
